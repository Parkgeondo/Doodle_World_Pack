(()=>{"use strict";var e,t={3032:(e,t,n)=>{n(853),n(6208),n(4994),n(2900),n(5550),n(8821),n(4845),n(5007),n(9275),n(6364),n(6632),n(1928),n(4883),n(8995),n(6543),n(3142),n(174),n(44),n(9701),n(238),n(2938);var o=n(6075),r=n(8012),i=n(636);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function s(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(r=o.key,i=void 0,i=function(e,t){if("object"!==a(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!==a(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===a(i)?i:String(i)),o)}var r,i}function c(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var l=c((function e(t){var n,o,r,i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.mouseMoved,t.addEventListener("mousedown",(function(e){n=e.clientX,o=e.clientY,r=Date.now()})),t.addEventListener("mouseup",(function(e){var t=Math.abs(e.clientX-n),a=Math.abs(e.clientY-o),s=Date.now()-r;i.mouseMoved=t>5||a>5||s>500}))})),u=n(5435);n(4750);function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function f(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(r=o.key,i=void 0,i=function(e,t){if("object"!==d(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!==d(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===d(i)?i:String(i)),o)}var r,i}function m(e,t,n){return t&&f(e.prototype,t),n&&f(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var y=m((function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var r=t.textureLoader2.load(t.imageSrc);r.rotation=Math.PI/2,r.center=new o.FM8(.5,.5),r.repeat.x=-1,(new i.E).load("/models/cha.glb",(function(e){var i=new o.vBJ({map:r,side:o.ehD,transparent:!0});n.x=t.x,n.y=t.y,n.z=t.z,n.scale=t.scale,n.mesh=e.scene.children[0],n.mesh.children[0].material=i,n.mesh.position.set(n.x,n.y,n.z),n.mesh.scale.set(n.scale,n.scale,n.scale),t.scene.add(n.mesh),n.mesh.animation=e.animations,n.mixer=new o.Xcj(n.mesh),n.actions=[],n.actions[0]=n.mixer.clipAction(n.mesh.animation[0]),n.actions[2]=n.mixer.clipAction(n.mesh.animation[2]),n.actions[1]=n.mixer.clipAction(n.mesh.animation[1]),n.actions[3]=n.mixer.clipAction(n.mesh.animation[3]),n.actions[2].play(),n.actions[2].loop=o.jAl,n.actions[0].play(),n.mesh.children[0].dragging=!1,n.mesh.children[0].isDraggable=!0,n.mesh.children[0].subject="plane"}))}));function p(e){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}function v(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(r=o.key,i=void 0,i=function(e,t){if("object"!==p(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!==p(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===p(i)?i:String(i)),o)}var r,i}function h(e,t,n){return t&&v(e.prototype,t),n&&v(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var w=h((function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var r=t.textureLoader2.load(t.imageSrc);r.rotation=Math.PI/2,r.center=new o.FM8(.5,.5),r.repeat.x=-1,(new i.E).load("/models/cha.glb",(function(e){var i=new o.vBJ({map:r,side:o.ehD,transparent:!0});n.x=t.x,n.y=t.y,n.z=t.z,n.scale=t.scale,n.mesh=e.scene.children[0],n.mesh.children[0].material=i,n.mesh.position.set(n.x,n.y,n.z),n.mesh.scale.set(n.scale,n.scale,n.scale),t.scene.add(n.mesh),n.mesh.animation=e.animations,n.mixer=new o.Xcj(n.mesh),n.actions=[],n.actions[0]=n.mixer.clipAction(n.mesh.animation[0]),n.actions[2]=n.mixer.clipAction(n.mesh.animation[2]),n.actions[1]=n.mixer.clipAction(n.mesh.animation[1]),n.actions[3]=n.mixer.clipAction(n.mesh.animation[3]),n.actions[4]=n.mixer.clipAction(n.mesh.animation[4]),n.actions[4].play(),n.actions[4].loop=o.jAl,n.mesh.children[0].dragging=!1,n.mesh.children[0].isDraggable=!0,n.mesh.children[0].subject="object"}))})),b=n(1891),g=n.n(b);function S(e){return S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},S(e)}function x(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(r=o.key,i=void 0,i=function(e,t){if("object"!==S(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!==S(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===S(i)?i:String(i)),o)}var r,i}function L(e,t,n){return t&&x(e.prototype,t),n&&x(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var j=L((function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var n=new o.b_z(.3,.6,6,1),r=new o.Wid({color:"#69B943"}),i=new o.fHI(.1,.1,1,6),a=new o.Wid({color:"#B5A788"});this.scale=t.scale,this.x=t.x,this.y=t.y,this.z=t.z,this.mesh=new o.Kj0(n,r),this.mesh2=new o.Kj0(n,r),this.mesh3=new o.Kj0(n,r),this.cylinder=new o.Kj0(i,a),this.mesh.position.set(0,this.y,0),this.mesh2.position.set(0,this.y-.2,0),this.mesh3.position.set(0,this.y-.6,0),this.cylinder.position.set(0,this.y-1.2,0),this.mesh.scale.set(.8,.8,.8),this.mesh2.scale.set(1.2,1.2,1.2),this.mesh3.scale.set(1.8,1.8,1.8),this.mesh.castShadow=!0,this.mesh2.castShadow=!0,this.mesh3.castShadow=!0,this.cylinder.castShadow=!0;var s=new o.ZAu;s.add(this.mesh),s.add(this.mesh2),s.add(this.mesh3),s.add(this.cylinder),s.scale.set(this.scale,this.scale,this.scale),s.position.set(this.x,0,this.z),t.scene.add(s)}));function z(e){return z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},z(e)}function k(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(r=o.key,i=void 0,i=function(e,t){if("object"!==z(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!==z(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===z(i)?i:String(i)),o)}var r,i}function P(e,t,n){return t&&k(e.prototype,t),n&&k(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var E=P((function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.x=t.x,this.y=t.y,this.z=t.z,this.scale=t.scale,t.gltfLoader.load(t.modelSrc,(function(e){n.mesh=e.scene.children[0],n.mesh.position.set(n.x,n.y,n.z),n.mesh.scale.set(n.scale,n.scale,n.scale),t.scene.add(n.mesh),n.mesh.castShadow=!0}))}));function O(e){return O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},O(e)}function M(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(r=o.key,i=void 0,i=function(e,t){if("object"!==O(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!==O(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===O(i)?i:String(i)),o)}var r,i}function q(e,t,n){return t&&M(e.prototype,t),n&&M(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var A=q((function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),(new i.E).load(t.modelSrc,(function(e){n.x=t.x,n.y=t.y,n.z=t.z,n.scale=t.scale,n.mesh=e.scene.children[0],n.mesh.position.set(n.x,n.y,n.z),n.mesh.scale.set(n.scale,n.scale,n.scale);n.mesh.rotation.set(0,t.rotation,0),t.scene.add(n.mesh),n.mesh.animation=e.animations,n.mixer=new o.Xcj(n.mesh),n.actions=[],n.actions[0]=n.mixer.clipAction(n.mesh.animation[0]),n.actions[2]=n.mixer.clipAction(n.mesh.animation[2]),n.actions[1]=n.mixer.clipAction(n.mesh.animation[1]),n.actions[3]=n.mixer.clipAction(n.mesh.animation[3]),n.actions[2].play(),n.actions[2].loop=o.jAl,n.mesh.castShadow=!0,n.mesh.children[0].dragging=!1,n.mesh.children[0].isDraggable=!0,n.mesh.children[0].subject="house"}))}));function B(e){return B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},B(e)}function F(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(r=o.key,i=void 0,i=function(e,t){if("object"!==B(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!==B(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===B(i)?i:String(i)),o)}var r,i}function _(e,t,n){return t&&F(e.prototype,t),n&&F(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var I=_((function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var n=t.scene,r=t.gltfLoader;n.background=new o.Ilk("#B8F8FB");n.fog=new o.ybr("#B8F8FB",25,30);var i=new o.Mig("white",.68);n.add(i);var a=new o.Ox3("white",.48);a.castShadow=!0,a.position.x=.4,a.position.y=2,a.position.z=.2,n.add(a);var s=(new o.dpR).load("/images/grass.png");s.wrapS=o.rpg,s.wrapT=o.rpg,s.repeat.x=10,s.repeat.y=10;var c=new o.Kj0(new o._12(100,100),new o.Wid({map:s}));c.name="floor",c.rotation.x=-Math.PI/2,c.receiveShadow=!0,n.add(c),[].push(c);new j({scene:n,x:-4.3,y:1.6,z:-3,scale:.8}),new j({scene:n,x:-4,y:1.6,z:-2,scale:1}),new j({scene:n,x:-3,y:1.6,z:4,scale:1}),new j({scene:n,x:-.2,y:1.6,z:4,scale:.8}),new j({scene:n,x:-1,y:1.6,z:-2.4,scale:.85}),new j({scene:n,x:-4,y:1.6,z:.5,scale:.85}),new j({scene:n,x:-4.3,y:1.6,z:1.5,scale:.85}),new j({scene:n,x:-4,y:1.6,z:2.5,scale:1.2}),new E({gltfLoader:r,scene:n,x:-2,y:.2,z:4.3,scale:.5,modelSrc:"/models/stone.glb"}),new E({gltfLoader:r,scene:n,x:-2,y:.2,z:-4.3,scale:.9,modelSrc:"/models/stone.glb"}),new E({gltfLoader:r,scene:n,x:-.5,y:.2,z:-4.3,scale:.4,modelSrc:"/models/stone.glb"}),new E({gltfLoader:r,scene:n,x:-7.5,y:.2,z:1.6,scale:1.4,modelSrc:"/models/stone.glb"})}));function T(e){return T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},T(e)}function D(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(r=o.key,i=void 0,i=function(e,t){if("object"!==T(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!==T(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===T(i)?i:String(i)),o)}var r,i}function C(e,t,n){return t&&D(e.prototype,t),n&&D(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var N=C((function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var n=t.scene,r=t.gltfLoader;n.background=new o.Ilk("#91e7ff");n.fog=new o.ybr("#91e7ff",4,20);var i=new o.Mig("white",.4);n.add(i);var a=new o.Ox3("#fff7db",.48);a.castShadow=!0,a.position.x=.4,a.position.y=2,a.position.z=.2,n.add(a);var s=(new o.dpR).load("/images/sand.jpg");s.wrapS=o.rpg,s.wrapT=o.rpg,s.repeat.x=80,s.repeat.y=80;var c=new o.Kj0(new o._12(100,100),new o.Wid({map:s}));c.name="floor",c.rotation.x=-Math.PI/2,c.receiveShadow=!0,n.add(c),[].push(c);new E({gltfLoader:r,scene:n,x:-2,y:.2,z:-4.3,scale:.9,modelSrc:"/models/stone_sea.glb"}),new E({gltfLoader:r,scene:n,x:-.5,y:.2,z:-4.3,scale:.8,modelSrc:"/models/coral.glb"}),new E({gltfLoader:r,scene:n,x:-.5,y:.1,z:-3.8,scale:.5,modelSrc:"/models/coral.glb"}),new E({gltfLoader:r,scene:n,x:-5,y:-.1,z:3,scale:1.5,modelSrc:"/models/coral2.glb"}),new E({gltfLoader:r,scene:n,x:0,y:-.1,z:5,scale:.7,modelSrc:"/models/coral3.glb"}),new E({gltfLoader:r,scene:n,x:-7.5,y:.2,z:1.6,scale:.8,modelSrc:"/models/stone_sea2.glb"}),new E({gltfLoader:r,scene:n,x:-7.3,y:.2,z:4.1,scale:1.3,modelSrc:"/models/stone_sea.glb"}),new E({gltfLoader:r,scene:n,x:-1,y:.2,z:6.5,scale:.8,modelSrc:"/models/stone_sea.glb"}),new E({gltfLoader:r,scene:n,x:0,y:-1.2,z:4.3,scale:.8,modelSrc:"/models/stone_sea.glb"}),new E({gltfLoader:r,scene:n,x:-3,y:-1.2,z:-3,scale:.8,modelSrc:"/models/stone_sea.glb"})}));function W(e){return W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},W(e)}function X(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(r=o.key,i=void 0,i=function(e,t){if("object"!==W(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!==W(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===W(i)?i:String(i)),o)}var r,i}function K(e,t,n){return t&&X(e.prototype,t),n&&X(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var H=K((function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var n=t.scene,r=t.gltfLoader;n.background=new o.Ilk("#142150");n.fog=new o.ybr("#142150",25,30);var i=new o.Mig("#7285C8",.68);n.add(i);var a=new o.Ox3("#7285C8",.48);a.castShadow=!0,a.position.x=.4,a.position.y=2,a.position.z=.2,n.add(a);var s=(new o.dpR).load("/images/grass.png");s.wrapS=o.rpg,s.wrapT=o.rpg,s.repeat.x=10,s.repeat.y=10;var c=new o.Kj0(new o._12(100,100),new o.Wid({map:s}));c.name="floor",c.rotation.x=-Math.PI/2,c.receiveShadow=!0,n.add(c),[].push(c);new j({scene:n,x:-4.3,y:1.6,z:-3,scale:.8}),new j({scene:n,x:-4,y:1.6,z:-2,scale:1}),new j({scene:n,x:-3,y:1.6,z:4,scale:1}),new j({scene:n,x:-.2,y:1.6,z:4,scale:.8}),new j({scene:n,x:-1,y:1.6,z:-2.4,scale:.85}),new j({scene:n,x:-4,y:1.6,z:.5,scale:.85}),new j({scene:n,x:-4.3,y:1.6,z:1.5,scale:.85}),new j({scene:n,x:-4,y:1.6,z:2.5,scale:1.2}),new E({gltfLoader:r,scene:n,x:-2,y:.2,z:4.3,scale:.5,modelSrc:"/models/stone.glb"}),new E({gltfLoader:r,scene:n,x:-2,y:.2,z:-4.3,scale:.9,modelSrc:"/models/stone.glb"}),new E({gltfLoader:r,scene:n,x:-.5,y:.2,z:-4.3,scale:.4,modelSrc:"/models/stone.glb"}),new E({gltfLoader:r,scene:n,x:-7.5,y:.2,z:1.6,scale:1.4,modelSrc:"/models/stone.glb"})})),Y=n(5256);n(3833);function R(e){return R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},R(e)}function U(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function J(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?U(Object(n),!0).forEach((function(t){Z(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Z(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==R(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!==R(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===R(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return G(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return G(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var o=0,r=function(){};return{s:r,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function G(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}n(5862);!function(){firebase.firestore().collection("storys").get().then((function(e){e.forEach((function(e){}))}));var e=document.querySelector("#three-canvas"),t=new o.CP7({canvas:e,antialias:!0,preserveDrawingBuffer:!0});t.setSize(window.innerWidth,window.innerHeight),t.setPixelRatio(window.devicePixelRatio>1?2:1),t.shadowMap.enabled=!0,t.shadowMap.type=o._iA;var n=new o.xsS;n.background=new o.Ilk("#EBE5D9");var a=new o.cPb(68,window.innerWidth/window.innerHeight,.3,1e3);a.position.x=-2,a.position.y=4.8,a.position.z=6,a.lookAt(1,-10,-1),n.add(a);var s=new o.Mig("#F8F4EC",1.25);n.add(s);var c=new o.Ox3("white",.1);c.position.x=.3,c.position.y=4,c.position.z=-2.3,c.shadow.mapSize.width=5120,c.shadow.mapSize.height=5120,c.shadow.camera.top=-10,c.shadow.camera.bottom=10,c.shadow.camera.right=10,c.shadow.camera.left=-10,c.castShadow=!0,n.add(c),new o.SUY;var d=new i.E;d.load("./models/kidapp.glb",(function(e){var t=e.scene;n.add(t);for(var o=1;o<t.children.length;o++)t.children[o].castShadow=!0}),void 0,(function(e){}));var f=new o._12(700,700),m=new o.Wid({color:"#EBE5D9"});m.metalness=.45,m.roughness=.65;var p=new o.Kj0(f,m);p.receiveShadow=!0,n.add(p),p.rotation.x=-Math.PI/2;var v=new o.DvJ(1,1,1),h=new o.vBJ({color:16776960}),b=new o.Kj0(v,h);n.add(b),b.position.set(1,-10,-1);var S=[];function x(e,t,n){var r=new o.DvJ(4,4,4),i=new o.vBJ({color:16776960,opacity:.1,visible:!1}),a=new o.Kj0(r,i);return e.add(a),a.position.copy(t),a.rotation.y=n,a.material.transparent=!0,a}var L=x(n,new o.Pa4(7.5,1.5,-4.6),-Math.PI/3.2);S.push(L);var j=x(n,new o.Pa4(10,1.5,.6),Math.PI/2);S.push(j);var z=x(n,new o.Pa4(10.2,1.5,6.6),Math.PI/4);S.push(z);var k=document.querySelector(".introStart"),P=document.querySelector(".introLookSave");k.addEventListener("click",(function(){ue({x:2,y:5,z:3},{x:12,y:-3,z:0})})),P.addEventListener("click",(function(){le(ce="selectStory")}));var E=new o.xsS;function O(e,t,n){return 0==n?new I({scene:e,gltfLoader:t}):1==n?new N({scene:e,gltfLoader:t}):2==n?new H({scene:e,gltfLoader:t}):void 0}var M=new o.cPb(75,window.innerWidth/window.innerHeight,.1,1e3);M.position.x=4,M.position.y=1,M.position.z=0,E.add(M),new o.Pa4(0,0,0);var q=new o.iMs,B=new o.iMs,F=new o.SUY,_=!1,T=document.querySelector(".moveStart"),D=document.querySelector(".recordRap"),C=document.querySelector(".recordNext"),W=document.querySelector(".recordPrev"),X=(document.querySelector(".recordDone"),document.querySelector(".drawButton")),K=document.querySelector(".tutorial"),R=document.querySelector(".with"),U=document.querySelector(".playWith"),G=document.querySelector(".code");R.addEventListener("click",(function(){U.classList.remove("displayNone"),Q.classList.remove("displayNone")})),U.addEventListener("click",(function(){U.classList.add("displayNone"),G.classList.remove("displayNone")})),document.querySelector(".rightMove"),document.querySelector(".playWithButton");var Q=document.querySelector(".namemake"),V=document.querySelectorAll(".dot"),ee=[[],[],[],[],[]];C.addEventListener("click",(function(){if(Me<=4){var e;(e=ee[Me]).push.apply(e,De),De.length=0,Ce();for(var n=0;n<We.length;n++){var o=We[n];E.remove(o)}for(var r=0;r<Ne.length;r++){var i=Ne[r];E.remove(i)}Xe(!0),Me<5&&(V[Me].innerHTML="<div></div>"),4==Me&&(C.classList.add("animation-shake"),C.classList.add("recordDone"))}5==Me&&(K.classList.remove("displayNone"),Q.classList.remove("displayNone"),function(){var e;try{var n="image/jpeg";e=t.domElement.toDataURL(n)}catch(e){return}document.getElementById("canvasImage").style.backgroundImage="url(".concat(e,")")}()),Me++})),W.addEventListener("click",(function(){--Me<0&&(Me=0)})),T.addEventListener("click",(function(){(_=!0)&&(X.classList.add("drawButton_move"),!1,ve.enabled=!1,u.ZP.timeline().to(M.position,{duration:1.8,x:4.5,y:4,z:0,onUpdate:function(){M.lookAt(new o.Pa4(0,0,0))}})),D.classList.add("moveStart_move"),T.classList.remove("moveStart_move"),Ce()}));var te=document.querySelector(".intro"),ne=document.querySelector(".backButton"),oe=document.querySelector(".interface"),re=document.querySelector(".showAll"),ie=document.querySelector(".carousel");re.addEventListener("click",(function(){ie.classList.add("carousel_move")}));var ae=n,se=a,ce="intro";function le(e){"selectMap"==e?(te.classList.add("introDown"),ne.classList.add("introBackButton")):"intro"==e?(te.classList.remove("introDown"),ne.classList.remove("introBackButton"),re.classList.remove("showAll_move")):"selectStory"==e&&(re.classList.add("showAll_move"),ue({x:-.6,y:5,z:-4.9},{x:-.6,y:0,z:-14}))}function ue(e,t){le(ce="selectMap"),u.ZP.timeline().to(a.position,{duration:1.8,x:e.x,y:e.y,z:e.z,onUpdate:function(){a.lookAt(new o.Pa4(2,0,0))}}),u.ZP.timeline().to(b.position,{duration:1.8,x:t.x,y:t.y,z:t.z,onUpdate:function(){a.lookAt(b.position)}})}function de(e){0===e?(O(E,d,0),ae=E,se=M,R.classList.add("displayNone"),oe.classList.add("displayBlock"),oe.classList.remove("displayNone")):1===e?(O(E,d,1),ae=E,se=M,R.classList.add("displayNone"),oe.classList.add("displayBlock"),oe.classList.remove("displayNone")):2===e?(O(E,d,2),ae=E,se=M,R.classList.add("displayNone"),oe.classList.add("displayBlock"),oe.classList.remove("displayNone")):3===e&&(ae=n,se=a,R.classList.remove("displayNone"),oe.classList.add("displayNone"),oe.classList.remove("displayBlock"),E.clear())}ne.addEventListener("click",(function(){"intomap"==ce?(de(3),ue({x:-2,y:4.8,z:6},{x:1,y:-10,z:-1}),le(ce="intro")):"selectMap"==ce&&(ue({x:-2,y:4.8,z:6},{x:1,y:-10,z:-1}),le(ce="intro")),ce="intro"})),document.querySelector(".titleButton").addEventListener("click",(function(){})),window.addEventListener("resize",(function(){M.aspect=window.innerWidth/window.innerHeight,a.aspect=window.innerWidth/window.innerHeight,M.updateProjectionMatrix(),a.updateProjectionMatrix(),t.setSize(window.innerWidth,window.innerHeight),t.render(n,a)}));var fe,me,ye,pe,ve=new r.z(M,t.domElement),he=document.querySelector("#p5-container"),we=document.querySelector("#p5-container2");fe="p5-container",me=450,ye=450,pe="#FFFFFF00",new(g())((function(e){var t=document.querySelector(".size"),n=document.querySelector(".color"),o=document.querySelector(".delete1"),r="black",i=12,a=[];e.setup=function(){e.noLoop(),e.createCanvas(me,ye),e.background(pe)},e.draw=function(){e.mouseIsPressed?(e.stroke(r),e.strokeWeight(i),a.push(e.mouseX,e.mouseY),a.length>2&&(e.line(a[0],a[1],a[2],a[3]),a.splice(0,2))):a.length&&(a=[]),e.mouseDragged=function(){},window.requestAnimationFrame(e.draw)},t.addEventListener("click",(function(e){e.target.dataset.size&&(i=e.target.dataset.size)})),n.addEventListener("click",(function(e){e.target.dataset.color&&(r=e.target.dataset.color)})),o.addEventListener("click",(function(t){e.clear()}))}),fe),function(e,t,n,o){new(g())((function(e){var r=document.querySelector(".size2"),i=document.querySelector(".color2"),a=document.querySelector(".delete2"),s="black",c=12,l=[];e.setup=function(){e.noLoop(),e.createCanvas(t,n),e.background(o)},e.draw=function(){e.mouseIsPressed?(e.stroke(s),e.strokeWeight(c),l.push(e.mouseX,e.mouseY),l.length>2&&(e.line(l[0],l[1],l[2],l[3]),l.splice(0,2))):l.length&&(l=[]),e.mouseDragged=function(){},window.requestAnimationFrame(e.draw)},r.addEventListener("click",(function(e){e.target.dataset.size&&(c=e.target.dataset.size)})),i.addEventListener("click",(function(e){e.target.dataset.color&&(s=e.target.dataset.color)})),a.addEventListener("click",(function(t){e.clear()}))}),e)}("p5-container2",450,450,"#FFFFFF00");var be,ge=document.querySelector(".sendButton"),Se=document.querySelector(".sendButton2"),xe=new o.dpR,Le=[],je=[],ze=(new o._12(1,1),new o.FM8);function ke(e){return(Math.random()-.5)*e}ge.addEventListener("click",(function(){var e=he.children[0].toDataURL("image/png");(new Image).src=e;var t=new y({textureLoader2:xe,scene:E,imageSrc:e,x:ke(4),y:0,z:ke(4),scale:.5,record:_});Le.push(t);var n=Le.length-1;be=Le[n].mesh})),Se.addEventListener("click",(function(){var e=we.children[0].toDataURL("image/png");(new Image).src=e;var t=new w({textureLoader2:xe,scene:E,imageSrc:e,x:ke(4),y:0,z:ke(4),scale:.5,record:_});je.push(t);var n=je.length-1;be=je[n].mesh}));var Pe=[];function Ee(){}document.querySelectorAll(".buildingBox").forEach((function(e){e.addEventListener("click",(function(e){var t=new A({textureLoader2:xe,scene:E,x:ke(4),y:0,z:ke(4),rotation:ke(4),scale:.5,record:_,modelSrc:"./models/".concat(e.target.dataset.name,".glb")});Pe.push(t);var n=Pe.length-1;be=Pe[n].mesh}))})),e.addEventListener("mousemove",(function(e){(function(){if(be){q.setFromCamera(ze,M);var e=q.intersectObjects(E.children);if(e.length){var t,n=$(e);try{for(n.s();!(t=n.n()).done;){var o=t.value;"floor"===o.object.name&&(Le.length>0||Pe.length>0)&&(be.position.x=o.point.x,be.position.y=.001,be.position.z=o.point.z,Be.position.copy(be.position))}}catch(e){n.e(e)}finally{n.f()}}}})(),Fe(),ze.set(e.clientX/window.innerWidth*2-1,-e.clientY/window.innerHeight*2+1)})),e.addEventListener("dblclick",Ee),e.addEventListener("mousedown",(function(e){ze.set(e.clientX/window.innerWidth*2-1,-e.clientY/window.innerHeight*2+1),q.setFromCamera(ze,M),B.setFromCamera(ze,a);var t=q.intersectObjects(E.children,!0),o=B.intersectObjects(n.children,!0);t.length&&t[0].object.isDraggable&&((be=t[0].object.parent).children[0].dragging=!0);be&&(ve.enabled=!1,Fe(),function(){if("plane"==be.children[0].subject){var e=Le.find((function(e){return e.mesh.id===be.id}));e.actions[0].stop(),e.actions[1].play()}else if("house"==be.children[0].subject){var t=Pe.find((function(e){return e.mesh.id===be.id}));t.actions[0].stop(),t.actions[1].play()}else if("object"==be.children[0].subject){var n=je.find((function(e){return e.mesh.id===be.id}));n.actions[0].stop(),n.actions[1].play()}}());o.length&&"selectMap"==ce&&(o[0].object.id==S[0].id?(de(0),ce="intomap"):o[0].object.id==S[1].id?(de(1),ce="intomap"):o[0].object.id==S[2].id&&(de(2),ce="intomap"))})),e.addEventListener("mouseup",(function(e){be&&(be.children[0].dragging=!1,Fe(),function(){if("plane"==be.children[0].subject){var e=Le.find((function(e){return e.mesh.id===be.id}));e.actions[1].stop(),e.actions[0].play()}else if("house"==be.children[0].subject){var t=Pe.find((function(e){return e.mesh.id===be.id}));t.actions[1].stop(),t.actions[0].play()}else if("object"==be.children[0].subject){var n=je.find((function(e){return e.mesh.id===be.id}));n.actions[1].stop(),n.actions[4].play()}}(),be=void 0,function(){Te=[];for(var e=0;e<Le.length;e++){Te.push([]);var t=J({},Le[e].mesh.position);De[e].push(t)}for(var n=0;n<Le.length;n++)Te[n].push(new o.Pa4(De[n][De[n].length-2].x,De[n][De[n].length-2].y,De[n][De[n].length-2].z)),Te[n].push(new o.Pa4(De[n][De[n].length-1].x,De[n][De[n].length-1].y,De[n][De[n].length-1].z));for(var r=0;r<Le.length;r++){var i,a=(new o.u9r).setFromPoints(Te[r]),s=new Y.MeshLine;s.setGeometry(a),_e=new Y.MeshLineMaterial((Z(i={dashArray:.3,lineWidth:.12,transparent:!0},"dashArray",.07),Z(i,"dashOffset",0),Z(i,"dashRatio",.35),Z(i,"color","#73A651"),i)),0==r?_e.color=new o.Ilk(203/255,253/255,171/255):1==r?_e.color=new o.Ilk(163/255,236/255,207/255):2==r&&(_e.color=new o.Ilk(166/255,235/255,243/255)),Ie.push(_e);var c=new o.Kj0(s,_e);E.add(c),Ne.push(c)}Xe(!0)}());ve.enabled=!0})),e.addEventListener("dbclick",Ee);var Oe,Me=0,qe=new o.o8S(.4,.5,32),Ae="#F4F4CC";Oe=new o.vBJ({color:Ae});var Be=new o.Kj0(qe,Oe);function Fe(){be?(Ae=be==Le[0]?"#8ed158":"#F4F4CC",Be.visible=!0):Be.visible=!1}E.add(Be),Be.rotation.x=-Math.PI/2,Be.position.y=.01,Be.visible=!1;var _e,Ie=[],Te=[],De=[];function Ce(){for(var e=0;e<Le.length;e++){De.push([]);var t=J({},Le[e].mesh.position);De[e].push(t)}Xe(!0)}var Ne=[],We=[];function Xe(e){for(var t=0;t<De.length;t++){var n=new o.fHI(.3,.3,.1,32),r=new o.YBo({color:"#558833"});0==t?r=new o.YBo({color:"#558833"}):1==t?r=new o.YBo({color:"#338866"}):2==t&&(r=new o.YBo({color:"#338088"}));var i=new o.Kj0(n,r);if(E.add(i),e){var a=De[t][De[t].length-1].x,s=De[t][De[t].length-1].y,c=De[t][De[t].length-1].z;i.position.set(a,s,c),We.push(i)}else if(!e){var l=De[t][0].x,u=De[t][0].y,d=De[t][0].z;i.position.set(l,u,d),We.push(i)}}}document.querySelector(".play").addEventListener("click",(function(){for(var e=[],t=0;t<Le.length;t++)e.push(Ye(De[t]));for(var n=[],o=function(){var t;n.push(u.ZP.timeline());for(var o=0;o<e[r].length;o++)n[r].to(Le[r].mesh.position,{duration:1,x:e[r][o].x,y:e[r][o].y,z:e[r][o].z});var i=Le[r];i.actions[0].stop(),i.actions[3].play(),t=setInterval(He,100),n[r].play().then((function(){i.actions[3].stop(),i.actions[0].play(),clearInterval(t)}))},r=0;r<Le.length;r++)o()})),document.querySelector(".reuse").addEventListener("click",(function(){for(var e=[],t=0;t<Le.length;t++)e.push(u.ZP.timeline()),e[t].to(Le[t].mesh.position,{duration:.5,x:De[t][0].x,y:De[t][0].y,z:De[t][0].z});for(var n=0;n<We.length;n++){var o=We[n];E.remove(o)}for(var r=0;r<Ne.length;r++){var i=Ne[r];E.remove(i)}Xe(!1);for(var a=0;a<Le.length;a++)De[a].splice(1);We.length=0}));var Ke=[];function He(){for(var e=0;e<Le.length;e++){var t=new o.xo$(.1,18,18),n=new o.YBo({color:"#f4f5eb",opacity:.5,transparent:!0}),r=new o.Kj0(t,n),i=Le[e].mesh.position,a=(J({},i),2*(Math.random()-.5)),s=2*(Math.random()-.5),c=2*(Math.random()-.5);r.position.x=i.x+a/12,r.position.y=i.y+s/12,r.position.z=i.z+c/12,E.add(r),Ke.push(r)}}function Ye(e){var t,n=[],o=null,r=$(e);try{for(r.s();!(t=r.n()).done;){var i=t.value;o&&i.x===o.x&&i.y===o.y&&i.z===o.z||n.push(i),o=i}}catch(e){r.e(e)}finally{r.f()}return n}new l(e),function e(){Le.length>0&&!_?T.classList.add("moveStart_move"):0==Le.length&&T.classList.remove("moveStart_move");for(var n=F.getDelta(),o=0;o<Le.length;o++)Le[o].mixer&&Le[o].mixer.update(n);for(var r=0;r<Pe.length;r++)Pe[r].mixer&&Pe[r].mixer.update(n);for(var i=0;i<je.length;i++)je[i].mixer&&je[i].mixer.update(n);for(var a=0;a<Ke.length;a++)Ke[a]&&(Ke[a].position.y+=.01,Ke[a].scale.x-=.02,Ke[a].scale.y-=.02,Ke[a].scale.z-=.02,Ke[a].scale.x<=0&&E.remove(Ke[a]));for(var s=0;s<Ie.length;s++)Ie[s]&&(Ie[s].dashOffset-=.001);t.render(ae,se),t.setAnimationLoop(e)}()}(),function(){document.querySelector(".drawHuman");var e=document.querySelector(".drawStuff"),t=document.querySelector(".drawHome"),n=(document.querySelector(".backButton"),document.querySelector(".drawing")),o=document.querySelector(".stuff"),r=document.querySelector(".building"),i=document.querySelectorAll(".draw"),a=document.querySelector(".moveStart"),s=document.querySelectorAll(".miniBack");a.addEventListener("click",(function(){!0&&(n.classList.add("leftMove"),e.classList.add("leftMove"),t.classList.add("leftMove"))})),i.forEach((function(e){e.addEventListener("click",(function(e){switch(e.target.dataset.name){case"draw":n.classList.remove("leftMove"),o.classList.add("leftMove"),r.classList.add("leftMove");break;case"stuff":n.classList.add("leftMove"),o.classList.remove("leftMove"),r.classList.add("leftMove");break;case"building":n.classList.add("leftMove"),o.classList.add("leftMove"),r.classList.remove("leftMove")}}))})),s.forEach((function(e){e.addEventListener("click",(function(){n.classList.add("leftMove"),n.classList.add("leftMove"),r.classList.add("leftMove"),!1,!1}))}));var c=document.querySelectorAll(".showBook_block"),l=document.querySelectorAll(".showBooks"),u=document.querySelector(".showBook");c.forEach((function(e){e.addEventListener("click",(function(){}))}));for(var d=0,f=!1,m=0,y=function(e){l[e].addEventListener("mousedown",(function(e){d=e.clientX,f=!0})),l[e].addEventListener("mousemove",(function(e){1==f&&(u.style.transform="translateX(".concat(100*-m,"vw) translateX(").concat(e.clientX-d,"px)"))})),l[e].addEventListener("mouseup",(function(t){f=!1;var n=t.clientX-d;n<-500?m=(m+1)%3:n>500&&(m=(m-1+3)%3),u.style.transition="all 0.5s",u.style.transform="translateX(".concat(100*-m,"vw)"),setTimeout((function(){u.style.transition="none"}),500),c[e].classList.remove("showBook_block_seleted"),c[m].classList.add("showBook_block_seleted")}))},p=0;p<3;p++)y(p)}()}},n={};function o(e){var r=n[e];if(void 0!==r)return r.exports;var i=n[e]={id:e,loaded:!1,exports:{}};return t[e].call(i.exports,i,i.exports,o),i.loaded=!0,i.exports}o.m=t,e=[],o.O=(t,n,r,i)=>{if(!n){var a=1/0;for(u=0;u<e.length;u++){for(var[n,r,i]=e[u],s=!0,c=0;c<n.length;c++)(!1&i||a>=i)&&Object.keys(o.O).every((e=>o.O[e](n[c])))?n.splice(c--,1):(s=!1,i<a&&(a=i));if(s){e.splice(u--,1);var l=r();void 0!==l&&(t=l)}}return t}i=i||0;for(var u=e.length;u>0&&e[u-1][2]>i;u--)e[u]=e[u-1];e[u]=[n,r,i]},o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{var e={179:0};o.O.j=t=>0===e[t];var t=(t,n)=>{var r,i,[a,s,c]=n,l=0;if(a.some((t=>0!==e[t]))){for(r in s)o.o(s,r)&&(o.m[r]=s[r]);if(c)var u=c(o)}for(t&&t(n);l<a.length;l++)i=a[l],o.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return o.O(u)},n=self.webpackChunkthreejs_study=self.webpackChunkthreejs_study||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var r=o.O(void 0,[518],(()=>o(3032)));r=o.O(r)})();