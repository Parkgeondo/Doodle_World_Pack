(()=>{"use strict";var e,t={5781:(e,t,n)=>{n(853),n(6208),n(5862),n(5550),n(3214),n(9275),n(2321),n(8821),n(4994),n(2900),n(4845),n(5007),n(6364),n(6632),n(1928),n(4883),n(8995),n(6543),n(3142),n(174),n(44),n(9701),n(238),n(2938);var o=n(6075),i=n(8012),r=n(636);var a=n(9352),s=n(5435),c=n(5256);n(4750);function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function d(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(i=o.key,r=void 0,r=function(e,t){if("object"!==l(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!==l(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"),"symbol"===l(r)?r:String(r)),o)}var i,r}function u(e,t,n){return t&&d(e.prototype,t),n&&d(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var m=u((function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var i=t.textureLoader2.load(t.imageSrc);i.rotation=Math.PI/2,i.center=new o.FM8(.5,.5),i.repeat.x=-1,(new r.E).load("/models/cha.glb",(function(e){var r=new o.vBJ({map:i,side:o.ehD,transparent:!0});n.x=t.x,n.y=t.y,n.z=t.z,n.scale=t.scale,n.mesh=e.scene.children[0],n.mesh.children[0].material=r,n.mesh.position.set(n.x,n.y,n.z),n.mesh.scale.set(n.scale,n.scale,n.scale),t.scene.add(n.mesh),n.mesh.animation=e.animations,n.mixer=new o.Xcj(n.mesh),n.actions=[],n.actions[0]=n.mixer.clipAction(n.mesh.animation[0]),n.actions[2]=n.mixer.clipAction(n.mesh.animation[2]),n.actions[1]=n.mixer.clipAction(n.mesh.animation[1]),n.actions[3]=n.mixer.clipAction(n.mesh.animation[3]),n.actions[2].play(),n.actions[2].loop=o.jAl,n.actions[0].play(),n.mesh.children[0].dragging=!1,n.mesh.children[0].isDraggable=!0,n.mesh.children[0].subject="plane",n.mesh.children[0].planeId=t.id}))}));function p(e){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}function f(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(i=o.key,r=void 0,r=function(e,t){if("object"!==p(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!==p(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"),"symbol"===p(r)?r:String(r)),o)}var i,r}function h(e,t,n){return t&&f(e.prototype,t),n&&f(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var v=h((function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),(new r.E).load(t.modelSrc,(function(e){n.x=t.x,n.y=t.y,n.z=t.z,n.scale=t.scale,n.mesh=e.scene.children[0],n.mesh.position.set(n.x,n.y,n.z),n.mesh.scale.set(n.scale,n.scale,n.scale);n.mesh.rotation.set(0,t.rotation,0),t.scene.add(n.mesh),n.mesh.animation=e.animations,n.mixer=new o.Xcj(n.mesh),n.actions=[],n.actions[0]=n.mixer.clipAction(n.mesh.animation[0]),n.actions[2]=n.mixer.clipAction(n.mesh.animation[2]),n.actions[1]=n.mixer.clipAction(n.mesh.animation[1]),n.actions[3]=n.mixer.clipAction(n.mesh.animation[3]),n.actions[2].play(),n.actions[2].loop=o.jAl,n.mesh.castShadow=!0,n.mesh.children[0].dragging=!1,n.mesh.children[0].isDraggable=!0,n.mesh.children[0].subject="house"}))}));function y(e){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y(e)}function w(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(i=o.key,r=void 0,r=function(e,t){if("object"!==y(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!==y(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"),"symbol"===y(r)?r:String(r)),o)}var i,r}function g(e,t,n){return t&&w(e.prototype,t),n&&w(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var b=g((function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var i=t.textureLoader2.load(t.imageSrc);i.rotation=Math.PI/2,i.center=new o.FM8(.5,.5),i.repeat.x=-1,(new r.E).load("/models/cha.glb",(function(e){var r=new o.vBJ({map:i,side:o.ehD,transparent:!0});n.x=t.x,n.y=t.y,n.z=t.z,n.scale=t.scale,n.mesh=e.scene.children[0],n.mesh.children[0].material=r,n.mesh.position.set(n.x,n.y,n.z),n.mesh.scale.set(n.scale,n.scale,n.scale),t.scene.add(n.mesh),n.mesh.animation=e.animations,n.mixer=new o.Xcj(n.mesh),n.actions=[],n.actions[0]=n.mixer.clipAction(n.mesh.animation[0]),n.actions[2]=n.mixer.clipAction(n.mesh.animation[2]),n.actions[1]=n.mixer.clipAction(n.mesh.animation[1]),n.actions[3]=n.mixer.clipAction(n.mesh.animation[3]),n.actions[4]=n.mixer.clipAction(n.mesh.animation[4]),n.actions[4].play(),n.actions[4].loop=o.jAl,n.mesh.children[0].dragging=!1,n.mesh.children[0].isDraggable=!0,n.mesh.children[0].subject="object"}))})),S=n(1891),L=n.n(S);function x(e){return x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},x(e)}function E(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(i=o.key,r=void 0,r=function(e,t){if("object"!==x(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!==x(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"),"symbol"===x(r)?r:String(r)),o)}var i,r}function k(e,t,n){return t&&E(e.prototype,t),n&&E(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var z=k((function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var n=new o.b_z(.3,.6,6,1),i=new o.Wid({color:"#69B943"}),r=new o.fHI(.1,.1,1,6),a=new o.Wid({color:"#B5A788"});this.scale=t.scale,this.x=t.x,this.y=t.y,this.z=t.z,this.mesh=new o.Kj0(n,i),this.mesh2=new o.Kj0(n,i),this.mesh3=new o.Kj0(n,i),this.cylinder=new o.Kj0(r,a),this.mesh.position.set(0,this.y,0),this.mesh2.position.set(0,this.y-.2,0),this.mesh3.position.set(0,this.y-.6,0),this.cylinder.position.set(0,this.y-1.2,0),this.mesh.scale.set(.8,.8,.8),this.mesh2.scale.set(1.2,1.2,1.2),this.mesh3.scale.set(1.8,1.8,1.8),this.mesh.castShadow=!0,this.mesh2.castShadow=!0,this.mesh3.castShadow=!0,this.cylinder.castShadow=!0;var s=new o.ZAu;s.add(this.mesh),s.add(this.mesh2),s.add(this.mesh3),s.add(this.cylinder),s.scale.set(this.scale,this.scale,this.scale),s.position.set(this.x,0,this.z),t.scene.add(s)}));function j(e){return j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},j(e)}function D(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(i=o.key,r=void 0,r=function(e,t){if("object"!==j(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!==j(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"),"symbol"===j(r)?r:String(r)),o)}var i,r}function P(e,t,n){return t&&D(e.prototype,t),n&&D(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var _=P((function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.x=t.x,this.y=t.y,this.z=t.z,this.scale=t.scale,t.gltfLoader.load(t.modelSrc,(function(e){n.mesh=e.scene.children[0],n.mesh.position.set(n.x,n.y,n.z),n.mesh.scale.set(n.scale,n.scale,n.scale),t.scene.add(n.mesh),n.mesh.castShadow=!0}))}));function M(e){return M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},M(e)}function q(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(i=o.key,r=void 0,r=function(e,t){if("object"!==M(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!==M(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"),"symbol"===M(r)?r:String(r)),o)}var i,r}function O(e,t,n){return t&&q(e.prototype,t),n&&q(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var B=O((function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var n=t.scene,i=t.gltfLoader;n.background=new o.Ilk("#B8F8FB");n.fog=new o.ybr("#B8F8FB",25,30);var r=new o.Mig("white",.68);n.add(r);var a=new o.Ox3("white",.48);a.castShadow=!0,a.position.x=.4,a.position.y=2,a.position.z=.2,n.add(a);var s=(new o.dpR).load("/images/grass.png");s.wrapS=o.rpg,s.wrapT=o.rpg,s.repeat.x=10,s.repeat.y=10;var c=new o.Kj0(new o._12(100,100),new o.Wid({map:s}));c.name="floor",c.rotation.x=-Math.PI/2,c.receiveShadow=!0,n.add(c),[].push(c);new z({scene:n,x:-4.3,y:1.6,z:-3,scale:.8}),new z({scene:n,x:-4,y:1.6,z:-2,scale:1}),new z({scene:n,x:-3,y:1.6,z:4,scale:1}),new z({scene:n,x:-.2,y:1.6,z:4,scale:.8}),new z({scene:n,x:-1,y:1.6,z:-2.4,scale:.85}),new z({scene:n,x:-4,y:1.6,z:.5,scale:.85}),new z({scene:n,x:-4.3,y:1.6,z:1.5,scale:.85}),new z({scene:n,x:-4,y:1.6,z:2.5,scale:1.2}),new _({gltfLoader:i,scene:n,x:-2,y:.2,z:4.3,scale:.5,modelSrc:"/models/stone.glb"}),new _({gltfLoader:i,scene:n,x:-2,y:.2,z:-4.3,scale:.9,modelSrc:"/models/stone.glb"}),new _({gltfLoader:i,scene:n,x:-.5,y:.2,z:-4.3,scale:.4,modelSrc:"/models/stone.glb"}),new _({gltfLoader:i,scene:n,x:-7.5,y:.2,z:1.6,scale:1.4,modelSrc:"/models/stone.glb"})}));function A(e){return A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},A(e)}function I(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(i=o.key,r=void 0,r=function(e,t){if("object"!==A(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!==A(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"),"symbol"===A(r)?r:String(r)),o)}var i,r}function C(e,t,n){return t&&I(e.prototype,t),n&&I(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var F=C((function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var n=t.scene,i=t.gltfLoader;n.background=new o.Ilk("#91e7ff");n.fog=new o.ybr("#91e7ff",4,20);var r=new o.Mig("white",.4);n.add(r);var a=new o.Ox3("#fff7db",.48);a.castShadow=!0,a.position.x=.4,a.position.y=2,a.position.z=.2,n.add(a);var s=(new o.dpR).load("/images/sand.jpg");s.wrapS=o.rpg,s.wrapT=o.rpg,s.repeat.x=80,s.repeat.y=80;var c=new o.Kj0(new o._12(100,100),new o.Wid({map:s}));c.name="floor",c.rotation.x=-Math.PI/2,c.receiveShadow=!0,n.add(c),[].push(c);new _({gltfLoader:i,scene:n,x:-2,y:.2,z:-4.3,scale:.9,modelSrc:"/models/stone_sea.glb"}),new _({gltfLoader:i,scene:n,x:-.5,y:.2,z:-4.3,scale:.8,modelSrc:"/models/coral.glb"}),new _({gltfLoader:i,scene:n,x:-.5,y:.1,z:-3.8,scale:.5,modelSrc:"/models/coral.glb"}),new _({gltfLoader:i,scene:n,x:-5,y:-.1,z:3,scale:1.5,modelSrc:"/models/coral2.glb"}),new _({gltfLoader:i,scene:n,x:0,y:-.1,z:5,scale:.7,modelSrc:"/models/coral3.glb"}),new _({gltfLoader:i,scene:n,x:-7.5,y:.2,z:1.6,scale:.8,modelSrc:"/models/stone_sea2.glb"}),new _({gltfLoader:i,scene:n,x:-7.3,y:.2,z:4.1,scale:1.3,modelSrc:"/models/stone_sea.glb"}),new _({gltfLoader:i,scene:n,x:-1,y:.2,z:6.5,scale:.8,modelSrc:"/models/stone_sea.glb"}),new _({gltfLoader:i,scene:n,x:0,y:-1.2,z:4.3,scale:.8,modelSrc:"/models/stone_sea.glb"}),new _({gltfLoader:i,scene:n,x:-3,y:-1.2,z:-3,scale:.8,modelSrc:"/models/stone_sea.glb"})}));function N(e){return N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},N(e)}function T(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(i=o.key,r=void 0,r=function(e,t){if("object"!==N(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!==N(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"),"symbol"===N(r)?r:String(r)),o)}var i,r}function W(e,t,n){return t&&T(e.prototype,t),n&&T(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var H=W((function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var n=t.scene,i=t.gltfLoader;n.background=new o.Ilk("#142150");n.fog=new o.ybr("#142150",25,30);var r=new o.Mig("#7285C8",.68);n.add(r);var a=new o.Ox3("#7285C8",.48);a.castShadow=!0,a.position.x=.4,a.position.y=2,a.position.z=.2,n.add(a);var s=(new o.dpR).load("/images/grass.png");s.wrapS=o.rpg,s.wrapT=o.rpg,s.repeat.x=10,s.repeat.y=10;var c=new o.Kj0(new o._12(100,100),new o.Wid({map:s}));c.name="floor",c.rotation.x=-Math.PI/2,c.receiveShadow=!0,n.add(c),[].push(c);new z({scene:n,x:-4.3,y:1.6,z:-3,scale:.8}),new z({scene:n,x:-4,y:1.6,z:-2,scale:1}),new z({scene:n,x:-3,y:1.6,z:4,scale:1}),new z({scene:n,x:-.2,y:1.6,z:4,scale:.8}),new z({scene:n,x:-1,y:1.6,z:-2.4,scale:.85}),new z({scene:n,x:-4,y:1.6,z:.5,scale:.85}),new z({scene:n,x:-4.3,y:1.6,z:1.5,scale:.85}),new z({scene:n,x:-4,y:1.6,z:2.5,scale:1.2}),new _({gltfLoader:i,scene:n,x:-2,y:.2,z:4.3,scale:.5,modelSrc:"/models/stone.glb"}),new _({gltfLoader:i,scene:n,x:-2,y:.2,z:-4.3,scale:.9,modelSrc:"/models/stone.glb"}),new _({gltfLoader:i,scene:n,x:-.5,y:.2,z:-4.3,scale:.4,modelSrc:"/models/stone.glb"}),new _({gltfLoader:i,scene:n,x:-7.5,y:.2,z:1.6,scale:1.4,modelSrc:"/models/stone.glb"})}));function K(e){return K="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},K(e)}function X(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function R(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?X(Object(n),!0).forEach((function(t){Y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):X(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Y(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==K(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!==K(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===K(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function U(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Z(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Z(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var o=0,i=function(){};return{s:i,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,r=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw r}}}}function Z(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}!function(){var e=[],t=null,n=document.querySelector(".showBook"),l=firebase.firestore();l.collection("storys").get().then((function(o){o.forEach((function(t){e.push(t.data())})),t=Math.floor(e.length/5+1);for(var i=0;i<t;i++){var r=document.createElement("div");r.className="showBooks",n.append(r);var a=document.createElement("div");a.className="cards",r.append(a)}for(var s=0;s<e.length;s++){var c=Math.floor(s/5),l='<div class="card" data-id='.concat(e[s].totalData.id,'>\n            <img class="thum" src="').concat(e[s].totalData.thum,'" alt="" draggable="false">\n            <div class="title">').concat(e[s].totalData.title,'</div>\n            <div class="time">12ì´ˆ</div>\n            <img class="trash" src="./images/UI/trash.png" alt="">\n         </div>');n.children[c].children[0].innerHTML+=l}document.querySelectorAll(".card").forEach((function(t){t.addEventListener("click",(function(t){if(t.target.classList.contains("card")){var n=t.target.dataset.id;xe(0),ge="into",Se();for(var o=null,i=0;i<e.length;i++)n==e[i].totalData.id&&(o=e[i]);be=!0,Se(ge="intomap"),function(e){for(var t in e.totalData.positionData){var n=new m({textureLoader2:Ie,scene:I,imageSrc:e.totalData.positionData[t].img,x:e.totalData.positionData[t].phase[0][0].x,y:e.totalData.positionData[t].phase[0][0].y,z:e.totalData.positionData[t].phase[0][0].z,scale:.5,record:X});Ce.push(n)}}(o)}})),t.querySelectorAll(".thum, .title, .time, .trash").forEach((function(e){e.addEventListener("click",(function(e){t.dataset.id}))}))})),n.children[number].children[0].children.addEventListener("click",(function(e){}));for(var d=document.querySelectorAll(".showBook_block"),u=document.querySelectorAll(".showBooks"),p=0,f=!1,h=0,v=t=Math.floor(e.length/5+1),y=function(e){u[e].addEventListener("mousedown",(function(e){p=e.clientX,f=!0})),u[e].addEventListener("mousemove",(function(e){1==f&&(n.style.transform="translateX(".concat(100*-h,"vw) translateX(").concat(e.clientX-p,"px)"))})),u[e].addEventListener("mouseup",(function(t){f=!1;var o=t.clientX-p;o<-500?h=(h+1)%v:o>500&&(h=(h-1+v)%v),n.style.transition="all 0.5s",n.style.transform="translateX(".concat(100*-h,"vw)"),setTimeout((function(){n.style.transition="none"}),500),d[e].classList.remove("showBook_block_seleted"),d[h].classList.add("showBook_block_seleted")}))},w=0;w<v;w++)y(w)}));var d=new a.M;d.setSize(window.innerWidth,window.innerHeight),d.domElement.style.position="absolute",d.domElement.style.top="0px",d.domElement.style.pointerEvents="none",document.body.appendChild(d.domElement);var u=document.querySelector("#three-canvas"),p=new o.CP7({canvas:u,antialias:!0,preserveDrawingBuffer:!0});p.setSize(window.innerWidth,window.innerHeight),p.setPixelRatio(window.devicePixelRatio>1?2:1),p.shadowMap.enabled=!0,p.shadowMap.type=o._iA;var f=new o.xsS;f.background=new o.Ilk("#EBE5D9");var h=new o.cPb(68,window.innerWidth/window.innerHeight,.3,1e3);h.position.x=-2,h.position.y=4.8,h.position.z=6,h.lookAt(1,-10,-1),f.add(h);var y=new o.Mig("#F8F4EC",1.25);f.add(y);var w=new o.Ox3("white",.1);w.position.x=.3,w.position.y=4,w.position.z=-2.3,w.shadow.mapSize.width=5120,w.shadow.mapSize.height=5120,w.shadow.camera.top=-10,w.shadow.camera.bottom=10,w.shadow.camera.right=10,w.shadow.camera.left=-10,w.castShadow=!0,f.add(w);var g=new r.E;g.load("./models/kidapp.glb",(function(e){var t=e.scene;f.add(t);for(var n=1;n<t.children.length;n++)t.children[n].castShadow=!0}),void 0,(function(e){}));var S=new o._12(700,700),x=new o.Wid({color:"#EBE5D9"});x.metalness=.45,x.roughness=.65;var E=new o.Kj0(S,x);E.receiveShadow=!0,f.add(E),E.rotation.x=-Math.PI/2;var k=new o.DvJ(1,1,1),z=new o.vBJ({color:16776960}),j=new o.Kj0(k,z);function D(e,t,n){var i=new o.DvJ(4,4,4),r=new o.vBJ({color:16776960,opacity:.1,visible:!1}),a=new o.Kj0(i,r);return e.add(a),a.position.copy(t),a.rotation.y=n,a.material.transparent=!0,a}f.add(j),j.position.set(1,-10,-1);var P=[],_=D(f,new o.Pa4(7.5,1.5,-4.6),-Math.PI/3.2);P.push(_);var M=D(f,new o.Pa4(10,1.5,.6),Math.PI/2);P.push(M);var q=D(f,new o.Pa4(10.2,1.5,6.6),Math.PI/4);P.push(q);var O=document.querySelector(".introStart"),A=document.querySelector(".introLookSave");O.addEventListener("click",(function(){Se(ge="selectMap"),Le({x:2,y:5,z:3},{x:12,y:-3,z:0})})),A.addEventListener("click",(function(){Se(ge="selectStory"),Le({x:-.6,y:5,z:-4.9},{x:-.6,y:0,z:-14})}));var I=new o.xsS;function C(e,t,n){return 0==n?new B({scene:e,gltfLoader:t}):1==n?new F({scene:e,gltfLoader:t}):2==n?new H({scene:e,gltfLoader:t}):void 0}var N=new o.cPb(75,window.innerWidth/window.innerHeight,.1,1e3);N.position.x=4,N.position.y=1,N.position.z=0,I.add(N);var T=new o.iMs,W=new o.iMs,K=new o.SUY,X=!1,Z=document.querySelector(".moveStart"),J=document.querySelector(".playNext"),$=(document.querySelector(".playPrev"),document.querySelector(".playRap")),G=document.querySelector(".recordRap"),V=document.querySelector(".recordNext"),Q=document.querySelector(".recordPrev"),ee=document.querySelector(".drawButton"),te=document.querySelector(".drawButton_emotion"),ne=document.querySelector(".tutorial"),oe=document.querySelector(".with"),ie=document.querySelector(".playWith"),re=document.querySelector(".code"),ae=document.querySelector(".controlButton");oe.addEventListener("click",(function(){ie.classList.remove("displayNone"),se.classList.remove("displayNone")})),ie.addEventListener("click",(function(){ie.classList.add("displayNone"),re.classList.remove("displayNone")}));var se=document.querySelector(".namemake"),ce=document.querySelectorAll(".dot");function le(){if(Xe<=5){ce.forEach((function(e){e.innerHTML=""}));for(var e=0;e<Xe;e++)ce[e].innerHTML="<div></div>"}5==Xe?(V.classList.add("animation-shake"),V.classList.add("recordDone")):(V.classList.remove("animation-shake"),V.classList.remove("recordDone"))}J.addEventListener("click",(function(t){var n=[],o=[];for(var i in e[0].totalData.positionData){var r=parseInt(i,10);for(var a in o[r]=[],n.push(s.ZP.timeline()),e[0].totalData.positionData[r].phase)for(var c=0;c<e[0].totalData.positionData[r].phase[a].length;c++)o[r].push(e[0].totalData.positionData[r].phase[a][c]);for(var l=function(){for(var e=0;e<o[d].length;e++)n[d].to(Ce[d].mesh.position,{duration:1.5,x:o[d][e].x,y:o[d][e].y,z:o[d][e].z});var t,i=Ce[d];i.actions[0].stop(),i.actions[3].play(),t=setInterval(nt,100),n[d].play().then((function(){i.actions[3].stop(),i.actions[0].play(),clearInterval(t)}))},d=0;d<o.length;d++)l()}})),V.addEventListener("click",(function(){if(++Xe<=4)for(var e=0;e<Ce.length;e++)Ge.positionData[e].phase[Xe].splice(0);if(Xe<=4){!function(){for(var e=0;e<Ce.length;e++){var t=Ce[e].mesh.position;delete t._gsap;var n=R({},t);Ge.positionData[e].phase[Xe].push(n)}et(!0)}();for(var t=0;t<Qe.length;t++){var n=Qe[t];I.remove(n)}for(var o=0;o<Ve.length;o++){var i=Ve[o];I.remove(i)}et(!0)}if(6==Xe&&(ne.classList.remove("displayNone"),se.classList.remove("displayNone"),function(){var e;try{var t="image/jpeg";e=p.domElement.toDataURL(t)}catch(e){return}document.getElementById("canvasImage").style.backgroundImage="url(".concat(e,")")}()),le(),Xe<=4)for(var r=0;r<Ce.length;r++)de[r].handleEmotionClick("none",!1)})),Q.addEventListener("click",(function(){--Xe<0&&(Xe=0);for(var e=[],t=0;t<Ce.length;t++)e.push(s.ZP.timeline()),e[t].to(Ce[t].mesh.position,{duration:.5,x:Ge.positionData[t].phase[Xe][0].x,y:Ge.positionData[t].phase[Xe][0].y,z:Ge.positionData[t].phase[Xe][0].z});for(var n=0;n<Ce.length;n++)Ge.positionData[n].phase[Xe].splice(1);if(Xe<=4){for(var o=0;o<Qe.length;o++){var i=Qe[o];I.remove(i)}for(var r=0;r<Ve.length;r++){var a=Ve[r];I.remove(a)}}et(!1),le()}));var de=[];function ue(e,t,n,o){var i=document.createElement("img"),r=document.createElement("img"),s=document.createElement("img"),c=document.createElement("img"),l=document.createElement("img"),d=document.createElement("img"),u=document.createElement("img");i.src="./images/emotion/emotion_smile.png",r.src="./images/emotion/emotion_angry.png",s.src="./images/emotion/emotion_sad.png",c.src="./images/emotion/emotion_shock.png",l.src="./images/emotion/emotion_just.png",d.src="./images/emotion/emotion_none.png",i.addEventListener("click",(function(){return b("smile")})),r.addEventListener("click",(function(){return b("angry")})),s.addEventListener("click",(function(){return b("sad")})),c.addEventListener("click",(function(){return b("shock")})),l.addEventListener("click",(function(){return b("just")})),d.addEventListener("click",(function(){return b("none")})),u.src="./images/emotion/emotion_none.png";var m=document.createElement("div"),p=document.createElement("div"),f=document.createElement("div");m.appendChild(f),m.appendChild(p),f.appendChild(i),f.appendChild(r),f.appendChild(s),f.appendChild(c),f.appendChild(l),f.appendChild(d),p.appendChild(u),m.className="emotion",f.className="emotion_inner",p.className="emotion_inner_defult";var h=new a.j(m);h.position.set(t,n,o),I.add(h),p.style.pointerEvents="auto",m.style.pointerEvents="auto";var v=document.querySelector(".editEmotion"),y="none",w="none";function g(e){var t=document.querySelectorAll(".emotion_inner"),n=document.querySelectorAll(".emotion_inner_defult");"edit"==e?(f.classList.remove("animation_emotion"),p.classList.add("animation_emotion")):"none"==e?(f.classList.remove("animation_emotion"),p.classList.remove("animation_emotion")):"selectEmotion"==e?(t.forEach((function(e){e.classList.remove("animation_emotion")})),n.forEach((function(e){e.classList.add("animation_emotion")})),f.classList.add("animation_emotion"),p.classList.remove("animation_emotion")):"selected"==e&&(f.classList.remove("animation_emotion"),p.classList.add("animation_emotion"))}function b(e,t){w=e;for(var n=0;n<Ce.length;n++)Ge.positionData[n].emotions[Xe]=w;var o="./images/emotion/emotion_".concat(w,".png");u.src=o,"selectEmotion"==y&&g(y="selected")}v.addEventListener("click",(function(){"edit"==y?y="none":"none"==y?y="edit":("selectEmotion"==y||"selected"==y)&&(y="none"),g(y)})),p.addEventListener("click",(function(){g(y="selectEmotion")}));var S={id:e,cImgLabel:h,emotion:w,handleEmotionClick:b};de.push(S)}Z.addEventListener("click",(function(){le(),(X=!0)&&(ee.classList.add("drawButton_move"),te.classList.remove("drawButton_move"),_e.enabled=!1,s.ZP.timeline().to(N.position,{duration:1.8,x:4.5,y:4,z:0,onUpdate:function(){N.lookAt(new o.Pa4(0,0,0))}})),G.classList.add("moveStart_move"),Z.classList.remove("moveStart_move"),function(){for(var e=0;e<Ce.length;e++){Ge.positionData[e]={id:e,phase:{0:[],1:[],2:[],3:[],4:[]},img:null,title:null,emotions:{0:null,1:null,2:null,3:null,4:null}};var t=R({},Ce[e].mesh.position);Ge.positionData[e].phase[Xe].push(t)}et(!0)}();for(var e=0;e<Ce.length;e++)Ge.positionData[e].img=Ce[e].mesh.children[0].material.map.source.data.currentSrc;for(var t=0;t<Ce.length;t++)ue(t,Ce[t].mesh.position.x,Ce[t].mesh.position.y+1.8,Ce[t].mesh.position.z);for(var n=0;n<Ce.length;n++)de[n].handleEmotionClick("none")}));var me=document.querySelector(".intro"),pe=document.querySelector(".backButton"),fe=document.querySelector(".interface"),he=document.querySelector(".showAll"),ve=document.querySelector(".carousel"),ye=f,we=h,ge="intro",be=!1;function Se(e){"selectMap"==e?(me.classList.add("introDown"),pe.classList.add("introBackButton")):"intro"==e?(fe.classList.remove("displayBlock"),fe.classList.add("displayNone"),ve.classList.remove("carousel_move"),me.classList.remove("introDown"),pe.classList.remove("introBackButton"),he.classList.remove("showAll_move")):"selectStory"==e?(pe.classList.add("introBackButton"),me.classList.add("introDown"),he.classList.add("showAll_move")):"selectStory_detail"==e?(ve.classList.add("carousel_move"),he.classList.remove("showAll_move")):"intomap"==e&&(1==be?($.classList.add("moveStart_move"),fe.classList.add("displayBlock"),fe.classList.remove("displayNone"),ee.classList.add("displayNone"),ee.classList.remove("displayBlock"),ae.classList.add("displayNone"),ae.classList.remove("displayBlock")):(fe.classList.add("displayBlock"),fe.classList.remove("displayNone")),ve.classList.remove("carousel_move"),oe.classList.add("displayNone"))}function Le(e,t){s.ZP.timeline().to(h.position,{duration:1.8,x:e.x,y:e.y,z:e.z,onUpdate:function(){h.lookAt(new o.Pa4(2,0,0))}}),s.ZP.timeline().to(j.position,{duration:1.8,x:t.x,y:t.y,z:t.z,onUpdate:function(){h.lookAt(j.position)}})}function xe(e){0===e?(C(I,g,0),ye=I,we=N,Se(ge)):1===e?(C(I,g,1),ye=I,we=N,Se(ge)):2===e?(C(I,g,2),ye=I,we=N,Se(ge)):3===e&&(ye=f,we=h,Se(ge),I.clear())}he.addEventListener("click",(function(){Se(ge="selectStory_detail")})),pe.addEventListener("click",(function(){"intomap"==ge?(xe(3),Le({x:-2,y:4.8,z:6},{x:1,y:-10,z:-1}),Se(ge="intro")):("selectMap"==ge||"selectStory"==ge||"selectStory_detail"==ge)&&(Le({x:-2,y:4.8,z:6},{x:1,y:-10,z:-1}),Se(ge="intro")),ge="intro"}));var Ee=document.querySelector(".titleButton"),ke=document.querySelector(".namearea");Ee.addEventListener("click",(function(){var e,t,n=ke.value,o=document.getElementById("canvasImage"),i=window.getComputedStyle(o).getPropertyValue("background-image").slice(4,-1).replace(/["']/g,"");Ge.thum=i,Ge.title=n,Ge.id=(e=1,t=1e3,Math.floor(Math.random()*(t-e+1)+e)),l.collection("storys").doc(n).set({totalData:Ge}).then((function(){})).catch((function(e){}))})),window.addEventListener("resize",(function(){N.aspect=window.innerWidth/window.innerHeight,h.aspect=window.innerWidth/window.innerHeight,N.updateProjectionMatrix(),h.updateProjectionMatrix(),p.setSize(window.innerWidth,window.innerHeight),p.render(f,h),d.setSize(this.window.innerWidth,this.window.innerHeight)}));var ze,je,De,Pe,_e=new i.z(N,p.domElement),Me=document.querySelector("#p5-container"),qe=document.querySelector("#p5-container2");ze="p5-container",je=450,De=450,Pe="#FFFFFF00",new(L())((function(e){var t=document.querySelector(".size"),n=document.querySelector(".color"),o=document.querySelector(".delete1"),i="black",r=12,a=[];e.setup=function(){e.noLoop(),e.createCanvas(je,De),e.background(Pe)},e.draw=function(){e.mouseIsPressed?(e.stroke(i),e.strokeWeight(r),a.push(e.mouseX,e.mouseY),a.length>2&&(e.line(a[0],a[1],a[2],a[3]),a.splice(0,2))):a.length&&(a=[]),e.mouseDragged=function(){},window.requestAnimationFrame(e.draw)},t.addEventListener("click",(function(e){e.target.dataset.size&&(r=e.target.dataset.size)})),n.addEventListener("click",(function(e){e.target.dataset.color&&(i=e.target.dataset.color)})),o.addEventListener("click",(function(t){e.clear()}))}),ze),function(e,t,n,o){new(L())((function(e){var i=document.querySelector(".size2"),r=document.querySelector(".color2"),a=document.querySelector(".delete2"),s="black",c=12,l=[];e.setup=function(){e.noLoop(),e.createCanvas(t,n),e.background(o)},e.draw=function(){e.mouseIsPressed?(e.stroke(s),e.strokeWeight(c),l.push(e.mouseX,e.mouseY),l.length>2&&(e.line(l[0],l[1],l[2],l[3]),l.splice(0,2))):l.length&&(l=[]),e.mouseDragged=function(){},window.requestAnimationFrame(e.draw)},i.addEventListener("click",(function(e){e.target.dataset.size&&(c=e.target.dataset.size)})),r.addEventListener("click",(function(e){e.target.dataset.color&&(s=e.target.dataset.color)})),a.addEventListener("click",(function(t){e.clear()}))}),e)}("p5-container2",450,450,"#FFFFFF00");var Oe,Be=document.querySelector(".sendButton"),Ae=document.querySelector(".sendButton2"),Ie=new o.dpR,Ce=[],Fe=[],Ne=new o.FM8;function Te(e){return(Math.random()-.5)*e}Be.addEventListener("click",(function(){var e=Me.children[0].toDataURL("image/png");(new Image).src=e;var t=new m({textureLoader2:Ie,scene:I,imageSrc:e,x:Te(4),y:0,z:Te(4),scale:.5,record:X,id:Ce.length});Ce.push(t)})),Ae.addEventListener("click",(function(){var e=qe.children[0].toDataURL("image/png");(new Image).src=e;var t=new b({textureLoader2:Ie,scene:I,imageSrc:e,x:Te(4),y:0,z:Te(4),scale:.5,record:X});Fe.push(t)}));var We=[];function He(){}document.querySelectorAll(".buildingBox").forEach((function(e){e.addEventListener("click",(function(e){var t=new v({textureLoader2:Ie,scene:I,x:Te(4),y:0,z:Te(4),rotation:Te(4),scale:.5,record:X,modelSrc:"./models/".concat(e.target.dataset.name,".glb")});We.push(t)}))})),u.addEventListener("mousemove",(function(e){(function(){if(Oe){T.setFromCamera(Ne,N);var e=T.intersectObjects(I.children);if(e.length){var t,n=U(e);try{for(n.s();!(t=n.n()).done;){var o=t.value;"floor"===o.object.name&&(Ce.length>0||We.length>0)&&(Oe.position.x=o.point.x,Oe.position.y=.001,Oe.position.z=o.point.z,Ue.position.copy(Oe.position))}}catch(e){n.e(e)}finally{n.f()}}}})(),Ze(),Ne.set(e.clientX/window.innerWidth*2-1,-e.clientY/window.innerHeight*2+1)})),u.addEventListener("dblclick",He),u.addEventListener("mousedown",(function(e){Ne.set(e.clientX/window.innerWidth*2-1,-e.clientY/window.innerHeight*2+1),T.setFromCamera(Ne,N),W.setFromCamera(Ne,h);var t=T.intersectObjects(I.children,!0),n=W.intersectObjects(f.children,!0);t.length&&t[0].object.isDraggable&&5!==Xe&&((Oe=t[0].object.parent).children[0].dragging=!0);Oe&&(_e.enabled=!1,Ze(),function(){if("plane"==Oe.children[0].subject){var e=Ce.find((function(e){return e.mesh.id===Oe.id}));e.actions[0].stop(),e.actions[1].play()}else if("house"==Oe.children[0].subject){var t=We.find((function(e){return e.mesh.id===Oe.id}));t.actions[0].stop(),t.actions[1].play()}else if("object"==Oe.children[0].subject){var n=Fe.find((function(e){return e.mesh.id===Oe.id}));n.actions[0].stop(),n.actions[1].play()}}());n.length&&"selectMap"==ge&&(n[0].object.id==P[0].id?(ge="intomap",xe(0)):n[0].object.id==P[1].id?(ge="intomap",xe(1)):n[0].object.id==P[2].id&&(ge="intomap",xe(2)))})),u.addEventListener("mouseup",(function(e){Oe&&(!function(){var e=Ce[Oe.children[0].planeId].mesh.position;delete e._gsap;var t=R({},e);Ge.positionData[Oe.children[0].planeId].phase[Xe].push(t),et(!0)}(),Oe.children[0].dragging=!1,Ze(),function(){if("plane"==Oe.children[0].subject){var e=Ce.find((function(e){return e.mesh.id===Oe.id}));e.actions[1].stop(),e.actions[0].play()}else if("house"==Oe.children[0].subject){var t=We.find((function(e){return e.mesh.id===Oe.id}));t.actions[1].stop(),t.actions[0].play()}else if("object"==Oe.children[0].subject){var n=Fe.find((function(e){return e.mesh.id===Oe.id}));n.actions[1].stop(),n.actions[4].play()}}(),function(){var e,t=Oe.children[0].planeId,n=Ge.positionData[t].phase[Xe][Ge.positionData[t].phase[Xe].length-2],i=Ge.positionData[t].phase[Xe][Ge.positionData[t].phase[Xe].length-1],r=(new o.u9r).setFromPoints([new o.Pa4(n.x,n.y,n.z),new o.Pa4(i.x,i.y,i.z)]),a=new c.MeshLine;a.setGeometry(r),Je=new c.MeshLineMaterial((Y(e={dashArray:.3,lineWidth:.12,transparent:!0},"dashArray",.07),Y(e,"dashOffset",0),Y(e,"dashRatio",.35),Y(e,"color","#73A651"),e)),0==t?Je.color=new o.Ilk(203/255,253/255,171/255):1==t?Je.color=new o.Ilk(163/255,236/255,207/255):2==t&&(Je.color=new o.Ilk(166/255,235/255,243/255));$e.push(Je);var s=new o.Kj0(a,Je);I.add(s),Ve.push(s)}(),Oe=void 0);_e.enabled=!0})),u.addEventListener("dbclick",He);var Ke,Xe=0,Re=new o.o8S(.4,.5,32),Ye="#F4F4CC";Ke=new o.vBJ({color:Ye});var Ue=new o.Kj0(Re,Ke);function Ze(){Oe?(Ye=Oe==Ce[0]?"#8ed158":"#F4F4CC",Ue.visible=!0):Ue.visible=!1}I.add(Ue),Ue.rotation.x=-Math.PI/2,Ue.position.y=.01,Ue.visible=!1;var Je,$e=[],Ge={thum:null,positionData:[]},Ve=[],Qe=[];function et(e){for(var t=0;t<Ce.length;t++){var n=new o.fHI(.3,.3,.1,32),i=new o.YBo({color:"#558833"});0==t?i=new o.YBo({color:"#558833"}):1==t?i=new o.YBo({color:"#338866"}):2==t&&(i=new o.YBo({color:"#338088"}));var r=new o.Kj0(n,i);if(I.add(r),e){var a=Ge.positionData[t].phase[Xe][Ge.positionData[t].phase[Xe].length-1].x,s=Ge.positionData[t].phase[Xe][Ge.positionData[t].phase[Xe].length-1].y,c=Ge.positionData[t].phase[Xe][Ge.positionData[t].phase[Xe].length-1].z;r.position.set(a,s,c),Qe.push(r)}else if(!e){var l=Ge.positionData[t].phase[Xe][0].x,d=Ge.positionData[t].phase[Xe][0].y,u=Ge.positionData[t].phase[Xe][0].z;r.position.set(l,d,u),Qe.push(r)}}}document.querySelector(".play").addEventListener("click",(function(){for(var e=[],t=function(t){var n;e.push(s.ZP.timeline());for(var o=0;o<Ge.positionData[t].phase[Xe].length;o++)e[t].to(Ce[t].mesh.position,{duration:1,x:Ge.positionData[t].phase[Xe][o].x,y:Ge.positionData[t].phase[Xe][o].y,z:Ge.positionData[t].phase[Xe][o].z});var i=Ce[t];i.actions[0].stop(),i.actions[3].play(),n=setInterval(nt,100),e[t].play().then((function(){for(var e=0;e<Ge.positionData[t].phase[Xe].length;e++)delete Ge.positionData[t].phase[Xe][e]._gsap;i.actions[3].stop(),i.actions[0].play(),clearInterval(n)}))},n=0;n<Ce.length;n++)t(n)})),document.querySelector(".reuse").addEventListener("click",(function(){for(var e=[],t=0;t<Ce.length;t++)e.push(s.ZP.timeline()),e[t].to(Ce[t].mesh.position,{duration:.5,x:Ge.positionData[t].phase[Xe][0].x,y:Ge.positionData[t].phase[Xe][0].y,z:Ge.positionData[t].phase[Xe][0].z});for(var n=0;n<Qe.length;n++){var o=Qe[n];I.remove(o)}for(var i=0;i<Ve.length;i++){var r=Ve[i];I.remove(r)}et(!1);for(var a=0;a<Ce.length;a++)Ge.positionData[a].phase[Xe].splice(1)}));var tt=[];function nt(){for(var e=0;e<Ce.length;e++){var t=new o.xo$(.1,18,18),n=new o.YBo({color:"#f4f5eb",opacity:.5,transparent:!0}),i=new o.Kj0(t,n),r=Ce[e].mesh.position,a=(R({},r),2*(Math.random()-.5)),s=2*(Math.random()-.5),c=2*(Math.random()-.5);i.position.x=r.x+a/12,i.position.y=r.y+s/12,i.position.z=r.z+c/12,I.add(i),tt.push(i)}}!function e(){d.render(I,N),Ce.length>0&&!X&&!be?Z.classList.add("moveStart_move"):0==Ce.length&&Z.classList.remove("moveStart_move");for(var t=K.getDelta(),n=0;n<Ce.length;n++)Ce[n].mixer&&Ce[n].mixer.update(t);for(var o=0;o<We.length;o++)We[o].mixer&&We[o].mixer.update(t);for(var i=0;i<Fe.length;i++)Fe[i].mixer&&Fe[i].mixer.update(t);for(var r=0;r<tt.length;r++)tt[r]&&(tt[r].position.y+=.01,tt[r].scale.x-=.02,tt[r].scale.y-=.02,tt[r].scale.z-=.02,tt[r].scale.x<=0&&I.remove(tt[r]));de.forEach((function(e){var t=Ce[e.id];if(t){var n=t.mesh.position,o=n.x,i=n.y,r=n.z;e.cImgLabel.position.set(o,i+1.8,r)}}));for(var a=0;a<$e.length;a++)$e[a]&&($e[a].dashOffset-=.001);p.render(ye,we),p.setAnimationLoop(e)}()}(),function(){document.querySelector(".drawHuman");var e=document.querySelector(".drawStuff"),t=document.querySelector(".drawHome"),n=(document.querySelector(".backButton"),document.querySelector(".drawing")),o=document.querySelector(".stuff"),i=document.querySelector(".building"),r=document.querySelectorAll(".draw"),a=document.querySelector(".moveStart"),s=document.querySelectorAll(".miniBack");a.addEventListener("click",(function(){!0&&(n.classList.add("leftMove"),e.classList.add("leftMove"),t.classList.add("leftMove"))})),r.forEach((function(e){e.addEventListener("click",(function(e){switch(e.target.dataset.name){case"draw":n.classList.remove("leftMove"),o.classList.add("leftMove"),i.classList.add("leftMove");break;case"stuff":n.classList.add("leftMove"),o.classList.remove("leftMove"),i.classList.add("leftMove");break;case"building":n.classList.add("leftMove"),o.classList.add("leftMove"),i.classList.remove("leftMove")}}))})),s.forEach((function(e){e.addEventListener("click",(function(){n.classList.add("leftMove"),n.classList.add("leftMove"),i.classList.add("leftMove"),!1,!1}))}))}()}},n={};function o(e){var i=n[e];if(void 0!==i)return i.exports;var r=n[e]={exports:{}};return t[e].call(r.exports,r,r.exports,o),r.exports}o.m=t,e=[],o.O=(t,n,i,r)=>{if(!n){var a=1/0;for(d=0;d<e.length;d++){for(var[n,i,r]=e[d],s=!0,c=0;c<n.length;c++)(!1&r||a>=r)&&Object.keys(o.O).every((e=>o.O[e](n[c])))?n.splice(c--,1):(s=!1,r<a&&(a=r));if(s){e.splice(d--,1);var l=i();void 0!==l&&(t=l)}}return t}r=r||0;for(var d=e.length;d>0&&e[d-1][2]>r;d--)e[d]=e[d-1];e[d]=[n,i,r]},o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={179:0};o.O.j=t=>0===e[t];var t=(t,n)=>{var i,r,[a,s,c]=n,l=0;if(a.some((t=>0!==e[t]))){for(i in s)o.o(s,i)&&(o.m[i]=s[i]);if(c)var d=c(o)}for(t&&t(n);l<a.length;l++)r=a[l],o.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return o.O(d)},n=self.webpackChunkthreejs_study=self.webpackChunkthreejs_study||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var i=o.O(void 0,[207],(()=>o(5781)));i=o.O(i)})();